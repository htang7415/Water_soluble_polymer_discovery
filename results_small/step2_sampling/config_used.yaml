backbone:
  dropout: 0.1
  ffn_hidden_size: 1536
  hidden_size: 384
  max_position_embeddings: 256
  num_heads: 6
  num_layers: 6
checkpointing:
  save_best_only: true
  save_last: false
  save_periodic: false
chi_training:
  batch_size: 128
  candidate_source: novel
  class_weight: 0.25
  coverage_topk: 5
  dataset_path: Data/chi/_50_polymers_T_phi.csv
  dropout: 0.1
  embedding_batch_size: 128
  embedding_timestep: 1
  epsilon: 0.05
  hidden_sizes:
  - 256
  - 128
  lambda_bce: 0.1
  learning_rate: 0.001
  n_trials: 50
  num_epochs: 500
  optuna_search_space:
    batch_size:
    - 8
    - 16
    - 32
    - 64
    - 128
    - 256
    dropout:
    - 0.0
    - 0.1
    - 0.2
    - 0.3
    hidden_units:
    - 64
    - 128
    - 256
    - 512
    - 1024
    lambda_bce:
    - 0.01
    - 0.05
    - 0.1
    - 0.2
    - 0.5
    learning_rate:
    - 0.0001
    - 0.005
    learning_rate_log: true
    num_layers:
    - 2
    - 3
    - 4
    - 5
    weight_decay:
    - 1.0e-07
    - 0.001
    weight_decay_log: true
  patience: 20
  polymer_class_weight: 0.5
  property_rule: upper_bound
  split_mode: polymer
  target_bootstrap_repeats: 800
  target_objective: balanced_accuracy
  target_polymer_class: all
  target_polymer_count: 100
  target_sa_max: 4.0
  test_ratio: 0.1
  train_ratio: 1.0
  tune: true
  tuning_epochs: 120
  tuning_patience: 20
  val_ratio: 0.1
  weight_decay: 1.0e-05
data:
  property_test_ratio: 0.1
  property_train_ratio: 0.8
  property_val_ratio: 0.1
  random_seed: 42
  train_fraction: 1.0
  unlabeled_train_ratio: 0.95
  unlabeled_val_ratio: 0.05
diffusion:
  beta_max: 0.95
  beta_min: 0.05
  num_steps: 50
model_sizes:
  large:
    batch_size: 128
    dropout: 0.1
    ffn_hidden_size: 3840
    gradient_accumulation_steps: 8
    hidden_size: 960
    learning_rate: 0.0001
    max_position_embeddings: 256
    max_steps: 300000
    num_heads: 12
    num_layers: 14
    warmup_steps: 3000
  medium:
    batch_size: 128
    dropout: 0.1
    ffn_hidden_size: 2560
    gradient_accumulation_steps: 4
    hidden_size: 640
    learning_rate: 0.0003
    max_position_embeddings: 256
    max_steps: 300000
    num_heads: 10
    num_layers: 10
    warmup_steps: 2000
  small:
    batch_size: 128
    dropout: 0.1
    ffn_hidden_size: 1536
    gradient_accumulation_steps: 4
    hidden_size: 384
    learning_rate: 0.0003
    max_position_embeddings: 256
    max_steps: 300000
    num_heads: 6
    num_layers: 6
    warmup_steps: 1000
  xl:
    batch_size: 64
    dropout: 0.1
    ffn_hidden_size: 5120
    gradient_accumulation_steps: 16
    hidden_size: 1280
    learning_rate: 0.0001
    max_position_embeddings: 256
    max_steps: 300000
    num_heads: 16
    num_layers: 20
    warmup_steps: 4000
optimization:
  cache_tokenization: true
  compile_mode: default
  compile_model: true
  cudnn_benchmark: true
  gradient_accumulation_steps: 4
  num_workers: 4
  pin_memory: true
  prefetch_factor: 2
  use_amp: true
paths:
  data_dir: Data
  polymer_file: Data/Polymer/SMiPoly_polymers.gz
  property_dir: Data/Property
  results_dir: results
plotting:
  dpi: 600
  figure_size:
  - 4.5
  - 4.5
  font_size: 12
polymer_classes:
  polyamide: '[#6](=O)-[#7]-[#6]'
  polyester: '[#6](=O)-[#8]-[#6]'
  polyether: '[#6]-[#8]-[#6]'
  polyimide: '[#6](=O)-[#7]-[#6](=O)'
  polyurethane: '[#8]-[#6](=O)-[#7]'
sampling:
  batch_size: 128
  num_samples: 10000
  target_polymer_count: 100
  target_sa_max: 4.0
  target_stars: 2
  temperature: 0.9
  top_k: null
  top_p: null
  use_constraints: true
  valid_only: true
  valid_only_max_rounds: 25
  valid_only_min_samples_per_round: 256
  valid_only_oversample_factor: 1.35
  valid_only_require_target_stars: true
tokenizer:
  max_length: 128
  special_tokens:
    bos: '[BOS]'
    eos: '[EOS]'
    mask: '[MASK]'
    pad: '[PAD]'
    unk: '[UNK]'
training_backbone:
  batch_size: 128
  eval_every: 1000
  gradient_clip_norm: 1.0
  learning_rate: 0.0003
  max_steps: 300000
  num_epochs: 50
  save_every: 100000
  warmup_steps: 1000
  weight_decay: 0.01
training_property:
  batch_size: 128
  default_timestep: 1
  finetune_last_layers: 6
  freeze_backbone: true
  learning_rate: 0.001
  num_epochs: 500
  patience: 30
  weight_decay: 0.01
